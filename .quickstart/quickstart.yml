database_key: netsuite_database
schema_key: netsuite_schema

dbt_versions: ">=1.3.0 <3.0.0"

table_variables:
  # Feature flags
  netsuite2__fiscal_calendar_enabled:
    - FiscalCalendar
  netsuite2__multibook_accounting_enabled:
    - accountingBook
    - AccountingBookSubsidiaries

  # Source
  netsuite2__using_account_types:
    - accountType
  netsuite2__using_accounting_period_fiscal_calendars:
    - accountingPeriodFiscalCalendars
  netsuite2__using_classification:
    - classification
  netsuite2__using_customer_subsidiary_relationships:
    - CustomerSubsidiaryRelationship
  netsuite2__using_departments:
    - department
  netsuite2__using_employees:
    - employee
  netsuite2__using_entity_address:
    - EntityAddress
  netsuite2__using_exchange_rate:
    - consolidatedExchangeRate
  netsuite2__using_items:
    - item
  netsuite2__using_jobs:
    - job
  netsuite2__using_location_main_address:
    - LocationMainAddress
  netsuite2__using_locations:
    - Location
  netsuite2__using_nexuses:
    - Nexus
  netsuite2__using_vendor_categories:
    - VendorCategory
  netsuite2__using_vendor_subsidiary_relationships:
    - VendorSubsidiaryRelationship

destination_configurations:
  databricks:
    dispatch:
      - macro_namespace: dbt_utils
        search_order: [ 'spark_utils', 'dbt_utils' ]

public_models: [
  "netsuite2__balance_sheet",
  "netsuite2__income_statement",
  "netsuite2__transaction_details",
  "netsuite2__entity_subsidiary_relationships",
  "netsuite__balance_sheet",
  "netsuite__income_statement",
  "netsuite__transaction_details"
]

supported_vars:
  accounts_pass_through_columns:
    type: dictionary
    description: "Addtional `ACCOUNT` columns to include in `netsuite2__transaction_details`, `netsuite2__balance_sheet`, and `netsuite2__income_statement`"
    display_name: "Additional Account Columns"

  classes_pass_through_columns:
    type: dictionary
    description: "Addtional `CLASSIFICATION` columns to include in `netsuite2__income_statement`"
    display_name: "Additional Class Columns"

  departments_pass_through_columns:
    type: dictionary
    description: "Addtional `DEPARTMENT` columns to include in `netsuite2__transaction_details` and `netsuite2__income_statement`"
    display_name: "Additional Department Columns"

  transactions_pass_through_columns:
    type: dictionary
    description: "Addtional `TRANSACTION` columns to include in `netsuite2__transaction_details`"
    display_name: "Additional Transaction Columns"

  transaction_lines_pass_through_columns:
    type: dictionary
    description: "Addtional `TRANSACTION_LINE` columns to include in `netsuite2__transaction_details`"
    display_name: "Additional Transaction Line Columns"

  locations_pass_through_columns:
    type: dictionary
    description: "Addtional `LOCATION` columns to include in `netsuite2__transaction_details`"
    display_name: "Additional Location Columns"

  subsidiaries_pass_through_columns:
    type: dictionary
    description: "Addtional `SUBSIDIARY` columns to include in `netsuite2__transaction_details`"
    display_name: "Additional Subsidiary Columns"

  balance_sheet_transaction_detail_columns:
    type: list
    description: "Additional columns from `netsuite2__transaction_details` to include in `netsuite2__balance_sheet`"
    display_name: "Balance Sheet Transaction Detail Columns"

  income_statement_transaction_detail_columns:
    type: list
    description: "Additional columns from `netsuite2__transaction_details` to include in `netsuite2__income_statement`"
    display_name: "Income Statement Transaction Detail Columns"

  lookback_window:
    type: integer
    value: 3
    description: "Number of days into the past that the models will look back to capture late-arriving events on incremental runs"
    display_name: "Incremental Run Lookback Window (Days)"

